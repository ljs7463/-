# yolo_project
이 프로젝트는 기존에 있는 펫케어 iot서비스를 보고 조금더 편하게 이용할 수 없을까?? 라는 생각에서 시작된 것 이며
반려견 주인이 모니터링 하지 않을 때에도 위험상황이라고 판단하는 것을 알고리즘 사용에 맞게 설정하여 방지하는 것을 목표로 잡고 있는 프로젝트입니다.
첫번째로 주택에 키우는 반려견이 울타리와 같은 지역에 다가가지 못하도록 하는것을 목표로 하고있습니다.(2020.10.31기준)

본 프로젝트는 윈도우 cmd 를 이용해서 사용했으며 현재 언어적 문제때문에 텐서플로우로 새로구현할 준비중



# 구현 과정 설명
1. 깃 허브 저장소에서 darknet 압축파일을 다운 받는다.
https://github.com/AlexeyAB/darknet

2. opencv/CUDA/CUDN 다운받는다
(오픈씨브이는 4.4.0다운후 파일명을 opencv_3.0 으로 바꾼다 이유는 원래 OPENCV_DIR은 환경변수로만 호출하게 해놨는데 요즘에는 저자가 하드코딩으로 OPENCV_3.0으로 같이 써놨기 때문이다, 귀찮게 환경변수 설정하고 재부팅 하는거 보다 편함)

3. 다운받은 darknet파일의 darknet.sln파일을 비쥬얼스튜디오에서 빌드한다 이때 속성에 들어가서 경로 설정 잘해줘야함.(OPENCV,CUDANCUDN등등)

4. 빌드에 성공하면 exe파일이 생성된 것을 볼 수 있다.

5. 훈련을 진행하기 위한 파라미터를 다운해야 하는데 그중 cfg파일을 먼저 수정해보았다.
(실제 순서는 상관이 없지만 필자의 경우 이렇게 했다 정도로 알아주시면 됩니다.)
Yolov4-custom.cfg파일이 있는데 이것을 이름을 바꿔주는데 나의 경우yolo-obj.cfg
라고 이름을 바꾸어 줬다.

6. cfg파일을 열어서 안에 내용을 조금 수정해준다.
 - batch = 64 
 - subdivisions = 16 
 - max_batches = (클래스 수 * 2000)  #본인의 경우 한 개의 클래스를 학습 시키기 때문     에 
 - (1 * 2000) = 2000 을 넣어주었다. 
 - steps = max_batches 의 80% ,max_batches 의 90% #본인의 경우 1600, 1800
 - wdth, height = 각각 416 또는 32의 배수로 설정 
 - (ctrl + f) 누른후 검색바에 yolo검색 -> [yolo]아래에 있는 classes를 본인의 클래스 개수     입력
 - [yolo] 바로 위에 있는 [convolutional] 에 포함되어있는 filters 의개수를 (classes +5) *3
   #본인의 경우 (1+5)*3 = 18
#주의해야할 점 [YOLO]기준으로 바로 아래 classes수정과 바로 위 [convolutional]에 있는 filters 값 수정해야함!!
